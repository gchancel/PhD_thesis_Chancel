
\section{Integrated circuits structure \ddcnew}
For the purpose of properly introducing the electrical models I developed for \bbi, it is required, in the first place, to have a look at how integrated circuits are structured.
It involves analyzing the different structures composing an IC, such as:
\begin{itemize}
    \setlength\itemsep{-0.1em}
    \item Its power supply plan, consisting in various metal levels stacked one on top of the others;
    \item The standard-cells: pre-characterized cells used as elementary building blocks;
    \item The various substrate types, such as dual-well and triple-well not to cite them all.
\end{itemize}

    \subsection{Power supply rails \ddcnew}
    \input{3_modeling/figures/powerRails.tex}
    In most modern integrated circuits, power is brought to the transistors through various metal layers organized as meshes.
    The resulting meshes bring the power to the transistors, aka the logic gates, aka the Standard-Cells.
    There are one or more pads for each power signal (typically called VDD and GND), connecting to power rings, surrounding the IC silicon die, as shown in Fig. \ref{fig:icPowerRail}.
    Then, power straps are created to mesh the rings and distribute evenly the power to the transistors.
    After that, rails are drawn to connect the power to the standard-cell segments, and vias are placed between rails and straps to wire them together.

    \subsection{Standard-Cell rows \ddcnew}
    \input{3_modeling/figures/stdCellsRows.tex}
    As I have said previously, Standard-Cells are the elementary building blocks used to design ICs.
    They are pre-defined logic cells, fulfilling a specific logic function.
    Standard-Cells can then be connected together to form a complete logic function.
    They are usually organized in rows, with a fixed height and variable width depending on the function.
    This allows simple power connection to each Standard-Cell.
    Fig. \ref{fig:istdCellRows} illustrates how Standard-Cells are routed in an IC design.
    At the top of the Standard-Cells is the VDD power input, and at the bottom the GND power input.
    Typically, without considering various technologies, between the power rails are trapped three main regions:
    \begin{itemize}
        \setlength\itemsep{-0.1em}
        \item A N-doped silicon area, called the N-well, where the PMOS transistors are lithographed;
        \item A metal area where the transistor gates are accessible;
        \item A P-doped silicon area, called the P-well, where the NMOS transistors are lithographed.
    \end{itemize}
    Therefore, NMOS transistors are located in the bottom half of the standard-cell, and the PMOS are located in the top half.

    \subsection{Various substrate types \ddcnew}
    \input{3_modeling/figures/dualTripleCoupe}
    Because there are various ways to lithograph transistors for a given technology, I decided to linger and analyze the differences of two substrate types commonly found in bulk technologies:
    \begin{itemize}
        \setlength\itemsep{-0.1em}
        \item Dual-well substrates, where NMOS transistors are lithographed directly into the P-doped silicon substrate;
        \item Triple-well substrates, where the NMOS transistors are lithographed into a buried P-well inside the N-well where the PMOS are lithographed.
    \end{itemize}
    For the purpose of illustrating the structural differences between those substrate types, I am going to use the schematics displayed in Fig. \ref{fig:dualTripleIvx} as a guide, illustrating the cross-sectional view of a logic inverter created in both a dual-well and a triple-well substrate.

        \subsubsection{Dual-well substrates \ddcnew}
        To begin with, let us focus on dual-well substrates.
        A schematic sectional view of a CMOS inverter manufactured in a dual-well substrate is shown in Fig. \ref{subfig:dualIvx}
        Among moderately old ICs, it was common to find dual-well substrates.
        In these substrates, NMOS transistors are lithographed directly into the P-doped silicon substrate, as we can see in Fig. \ref{subfig:dualIvx}.
        In addition to this, a N-doped silicon area is created inside the P-substrate, called the N-well, to lithograph the PMOS transistors.
        This results in a silicon junction, electrically represented by the N-well diode on the schematic, and called the epitaxy, highlighted in saturated blue.
        Because doped silicon does have a non-zero resistivity, electrical resistances are represented to demonstrate this:
        \begin{itemize}
            \setlength\itemsep{-0.1em}
            \item $RC_{VDD}$ represents the access resistance measured between the epitaxy and the PMOS transistor through the N-well;
            \item $RC_{GND}$ is the access resistance measured between the epitaxy and the NMOS transistor through the P-substrate.
        \end{itemize}

        \subsubsection{Triple-well substrates \ddcnew}
        \textcolor{orange}{TW helps to reduce crosstalk noise.}
        On the other hand, triple-well substrates are also commonly used, often in combination with dual-well on the same die, to provide an electrical isolation between NMOS and PMOS transistors.
        It is achieved by creating inside the N-well, another doped silicon area, inversely doped, called the P-well.
        Inside the latter are then lithographed the NMOS transistors, while the PMOS transistors are still lithographed inside the N-well.

\section{Standard-Cell Segment (SCS) and their models \ddcnew}
Thanks to what I have introduced in the previous section, that is, the Standard-Cell arrangement used to create IC architectures, alongside the two identified substrate types of interest: Dual-Well and Triple-Well, it is now possible to elaborate an electrical model for such integrated circuits.
Because I am differentiating \dwF and \twF substrates, I am introducing two separate models, even though they show some similarities.

The models I developed are an improvement over the electrical models proposed by M. Dumont for \emfi \cite{mathieuEMFI}.
Similar to \cite{mathieuEMFI} and to VLSI design, I am using the Standard-Cells as a basic building block.
However, in my model is not represented the logic function of a Standard-Cell, rather its electrical behavior.
More specifically, the elementary building block of the proposed electrical model represents the average electrical behavior of several Standard-Cells, called Standard-Cell Segment (\scs).

\input{3_modeling/figures/substrateSubdivid}
Because I based my work on M. Dumont model \cite{mathieuEMFI}, I have made modifications to it.
The major modification is displayed in Fig. \ref{fig:surfaceSubDivid}.
In M. Dumont model, the silicon P-substrate is represented solely thanks to a network of 6 resistors.
However, when performing \bbi, the substrate is the main physical environment where the electric charges travel.
Therefore, as I describe in more details further, it is required to improve the spatial resolution of the model, as shown in Fig. \ref{fig:surfaceSubDivid}.
This is done by splitting the substrate electric model in several 6-resistors networks interconnected with each other, thus aloowing for more precise analysis of the substrate charges.

\input{3_modeling/figures/dualTripleScs}
Fig. \ref{fig:dualTripleScs} shows the 3-dimensional view of the developed models for my thesis.
The next subsections are dedicated to describing these models both for \dwF and \twF substrates.

    \subsection{The case of Dual-Well substrates \ddcnew}
    Fig. \ref{subfig:dualScs} shows the electrical model of an SCS for \dwF substrates.
    Each SCS is delimited by the P-substrate at its bottom (\ovalbox{1}) and by the power rails at its top (\ovalbox{5}, \ovalbox{5'}).

    \subsection{The case of Triple-Well substrates \ddcnew}

\section{Electrical models \ddcold}
\label{sect:elecModels}
%\input{3_modeling/figures/dualTripleCoupe}
On one hand, when performing EMFI (usually on the front side of the IC), air is the physical support to convey energy through electromagnetic waves.
It is achieved by coupling the loop wire probe to the power delivery network loops.
On the other hand, when working with BBI, the context is different.
Indeed, the energy is conveyed through electrical charges through the silicon substrate.
Therefore, the carriers have to go through the metallic probe and the whole substrate to reach the logic gates and the power delivery network in order to disturb the IC operation.
Thus, the substrate type and design could have a significant impact on BBI efficiency.
As a result, we explored and studied BBI in two specific scenarios depending on the substrate types: dual-well and triple-well.
Fig. \ref{fig:dualTripleIvx} shows the sectional views of two inverters manufactured in a dual-well and a triple-well substrate respectively.
These simple schematics are helpful in understanding the reasoning behind the design of the electrical models.

Fig. \ref{subfig:dualIvx} depicts the cross-sectional view of a dual-well CMOS inverter.
The P-doped silicon substrate is colored in gray, with $RC_{GND}$ being the access resistance from the epitaxy layer to the NMOS bulk.
This physical environment is the conducting support of electrical charges which flow up to the NMOS transistor.
The orange region is the N-doped silicon well, located inside the P-substrate to manufacture the PMOS transistors.
$RC_{VDD}$ is the access resistance from the epitaxy to the PMOS bulk inside the $N_{WELL}$.
In addition to the P-substrate, the N-well is the last environment electrical charges have to go through before reaching the PMOS transistor.

Fig. \ref{subfig:tripleIvx} shows the cross-sectional view of a triple-well CMOS inverter.
As before, gray areas represent P-doped silicon, and orange areas N-doped silicon.
$R_{NW}$ is the $N_{WELL}$ access resistance from the epitaxy to the PMOS bulk, and $R_{PW}$ is the $P_{WELL}$ access resistance from the $N_{WELL} - P_{WELL}$ junction to the NMOS bulk.
In this case, two silicon junctions are present, represented by two independent diodes.
In order to reach the PMOS transistors, charges have to go through the exact same environments as before.
However, concerning NMOS transistors, they have to pass through two silicon junctions instead of none.
As discussed in Chapter \ref{chap:5faultModel}, this has a significant impact on BBI induced effects.
However, these schematics are incomplete and do not allow simulating ICs behaviors under BBI.

Therefore, as it has been done in \cite{mathieuEMFI}, ICs are spatially split in elementary sections called standard-cells segments (SCS).
However, in addition to the improvement of the dual-well proposed model proposed in \cite{mathieuEMFI}, we also introduce a triple-well model in order to fully appreciate the behavioral differences of BBI applied to both substrate types.

%\input{3_modeling/figures/substrateSubdivid}
%\input{3_modeling/figures/dualTripleScs}
The main improvement over the dual-well model proposed in \cite{mathieuEMFI} concerns the substrate resistive network, as shown in Fig. \ref{fig:surfaceSubDivid}.
In \cite{mathieuEMFI}, the substrate network is coarse and only consists of six electrical resistances for each SCS.
It means that they represent the entire SCS substrate thickness, width, and height (on the left in Fig \ref{fig:surfaceSubDivid}).
Even though it is sufficient to appreciate the injection method effects while studying EMFI, mainly because the substrate is almost transparent when it comes to electromagnetic waves, but also because EMFI is mostly performed at the IC front side, it is not precise enough to model the spreading of he voltage pulse from the IC backside to the transistors.

To that end, we decided to split as much as possible these resistors, as shown in Fig. \ref{fig:surfaceSubDivid}, to provide a precise enough substrate sub-model while keeping realistic computational workload.
For the final models, it was decided to use an editable elementary thickness of $10 \; \mu m$, and fixed width and depth of $5 \; \mu m$ for each elementary six-resistors substrate models, according to the footprint of an SCS on the XY plane ($5 \; \mu m \; \times \; (6 \; \mu m \; \times \; 5 \; \mu m)$), resulting in a $30 \; \mu m$ wide and $5 \; \mu m$ deep SCS.
One can remark that in Fig \ref{fig:dualTripleScs}, no number is given concerning the substrate thickness, as similar to LFI, it is an important parameter which does not have a fixed value.
Indeed, an attacker may want to thin the substrate or not before performing BBI.

Furthermore, as shown in Fig. \ref{fig:dualTripleScs}, both SCS models contain various electrical components describing the IC structure, roughly composed of:
\begin{itemize}
    \item Its substrate
    \item Its silicon junction(s)
    \item Its logic gates
    \item Its power supply rails
\end{itemize}
These two models, while being close to each other, allow, thanks to their subtle differences, to properly consider the different behaviors each substrate type exhibits.
In the next section, dual-well SCS model and triple-well SCS model are consecutively considered and analyzed.

\subsection{Standard-cell segment models \ddc}
\label{subSect:dualTripleWellScs}
Historically, IC substrate was manufactured using an exclusive dual-well structure.
However, nowadays, it is common to find on relatively modern ICs a mix of dual-well and triple-well structures on a monolithic die.
Triple-well substrate structures bring significant advantages over dual-well substrates.
In digital ICs, it is mainly used to body bias transistors to optimize their performance under power constraints.
When used in analog or mixed designs, it gives two main advantages: substrate cross-talk and noise reduction, in addition to power supply decoupling thanks to the additional P-N junction capacitance \cite{tripleWellDecoupling}.
This is why we decided to cover dual-well and triple-well structures in our models.

Fig. \ref{subfig:dualScs} depicts an SCS dual-well model.
Each significant section of the SCS is gray-framed and numbered:
\begin{itemize}
    \item The section \ovalbox{1} represents the substrate environment: resistive and isotropic.
    \item The section \ovalbox{2} is the $P-N$ silicon junction between the P-substrate and the N-well, represented by a diode and its junction capacitance, in addition to an access resistance $RC-VDD$, being the N-well electrical resistance.
    \item The section \ovalbox{3} is the substrate access resistance.
    \item The sections \ovalbox{4P} and \ovalbox{4N} contain the average non-logical model of a hundred of logic gates.
    \item The sections \ovalbox{5} and \ovalbox{5'} are the two levels of the power delivery network, which are low resistive metals.
    \item The section \ovalbox{6} is the decoupling between both $GND$ and $V_{DD}$ power networks.
\end{itemize}

Fig. \ref{subfig:tripleScs} depicts the SCS triple-well model as follows:
\begin{itemize}
    \item The section \ovalbox{2} is the $P-N$ silicon junction between the P-substrate and the N-well, represented by a diode and its junction capacitance, in addition to an access resistance $R_{NW}$, being the N-well electrical resistance.
    \item The section \ovalbox{3} is the $N-P$ silicon junction between the N-well and the P-well, represented once again by a diode and its junction capacitance, in addition to an access resistance $R_{PW}$, being the P-well electrical resistance.
    \item The sections \ovalbox{1}, \ovalbox{4P}, \ovalbox{4N}, \ovalbox{5'} and \ovalbox{6} being the same as before.
\end{itemize}

\input{3_modeling/algorithms/figureHspiceGen}
\input{3_modeling/algorithms/hspiceGen}
Each area of the elementary SCS models were automatically generated using  a custom algorithm, shown in Alg. \ref{alg:icGen}.
It was mainly designed in order to reduce as much as possible any human intervention to limit difficult to debug errors and inconsistencies.
Furthermore, it provides a degree of flexibility due to the ease of user modifications directly into the generation algorithm parameters, as opposed to netlist editing, thereby reducing errors further.
These models only represent a section of an integrated circuit. For effective use and verification, it is necessary to replicate and interconnect these models spatially as much as possible.
This was accomplished by utilizing customized Python scripts coupled with procedural generation.
The IC generation algorithm enables the modification of multiple settings to produce the desired outcomes, albeit with certain inherent structural limitations.
Two of the main limitations are the fixed width and depth of the elementary SCS models, and the fixed number of metal levels in the power delivery network.
On the contrary, the following is a non-exhaustive list of user-modifiable settings:
\begin{itemize}
	\item Global IC size.
	\item Probe position.
	\item IC global substrate thickness.
	\item IC elementary substrate thickness.
	\item Substrate type (dual-well, triple-well, or mixed).
	\item Voltage pulse amplitude.
	\item Voltage pulse width.
	\item Voltage pulse rise and fall times.
	\item Simulation time and step.
\end{itemize}
Eventually, the generator script incorporates a visual inspection tool in order to quickly verify the correctness of the generated netlist.
Alg. \ref{alg:icGen} shows the IC generation algorithm main function, which is to create the coordinates for every net in the netlist.
%Alg. \ref{alg:icGen} presents the IC generation algorithm, alongside Fig. \ref{fig:algo}.
